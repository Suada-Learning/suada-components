import{r as i}from"./index-BsICj7Do.js";import{r as I}from"./index-cfNomcto.js";import{f as S,i as v,j as J,b as O,T as Q,k as U,l as A}from"./useSlot-BEsZemBB.js";import{u as b}from"./DefaultPropsProvider-BB0hjY0t.js";import{j as X}from"./jsx-runtime-Be5KepTg.js";function rt(n){return n&&n.ownerDocument||document}function C(n){var f;return parseInt(i.version,10)>=19?((f=n==null?void 0:n.props)==null?void 0:f.ref)||null:(n==null?void 0:n.ref)||null}function Y(n){return typeof n=="function"?n():n}const st=i.forwardRef(function(f,l){const{children:o,container:g,disablePortal:r=!1}=f,[s,p]=i.useState(null),h=S(i.isValidElement(o)?C(o):null,l);if(b(()=>{r||p(Y(g)||document.body)},[g,r]),b(()=>{if(s&&!r)return v(l,s),()=>{v(l,null)}},[l,s,r]),r){if(i.isValidElement(o)){const T={ref:h};return i.cloneElement(o,T)}return o}return s&&I.createPortal(o,s)});function j(n){return`scale(${n}, ${n**2})`}const Z={entering:{opacity:1,transform:j(1)},entered:{opacity:1,transform:"none"}},D=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),H=i.forwardRef(function(f,l){const{addEndListener:o,appear:g=!0,children:r,easing:s,in:p,onEnter:h,onEntered:T,onEntering:F,onExit:w,onExited:G,onExiting:L,style:R,timeout:u="auto",TransitionComponent:N=Q,...V}=f,$=J(),P=i.useRef(),d=O(),y=i.useRef(null),k=S(y,C(r),l),m=t=>c=>{if(t){const e=y.current;c===void 0?t(e):t(e,c)}},z=m(F),K=m((t,c)=>{U(t);const{duration:e,delay:x,easing:a}=A({style:R,timeout:u,easing:s},{mode:"enter"});let E;u==="auto"?(E=d.transitions.getAutoHeightDuration(t.clientHeight),P.current=E):E=e,t.style.transition=[d.transitions.create("opacity",{duration:E,delay:x}),d.transitions.create("transform",{duration:D?E:E*.666,delay:x,easing:a})].join(","),h&&h(t,c)}),M=m(T),W=m(L),_=m(t=>{const{duration:c,delay:e,easing:x}=A({style:R,timeout:u,easing:s},{mode:"exit"});let a;u==="auto"?(a=d.transitions.getAutoHeightDuration(t.clientHeight),P.current=a):a=c,t.style.transition=[d.transitions.create("opacity",{duration:a,delay:e}),d.transitions.create("transform",{duration:D?a:a*.666,delay:D?e:e||a*.333,easing:x})].join(","),t.style.opacity=0,t.style.transform=j(.75),w&&w(t)}),q=m(G),B=t=>{u==="auto"&&$.start(P.current||0,t),o&&o(y.current,t)};return X.jsx(N,{appear:g,in:p,nodeRef:y,onEnter:K,onEntered:M,onEntering:z,onExit:_,onExited:q,onExiting:W,addEndListener:B,timeout:u==="auto"?null:u,...V,children:(t,{ownerState:c,...e})=>i.cloneElement(r,{style:{opacity:0,transform:j(.75),visibility:t==="exited"&&!p?"hidden":void 0,...Z[t],...R,...r.props.style},ref:k,...e})})});H&&(H.muiSupportAuto=!0);export{H as G,st as P,C as g,rt as o};
