import{r as o}from"./index-Dmy2JGbm.js";import{r as I}from"./index-CIZcjP-h.js";import{u as S,c as D,s as b}from"./resolveComponentProps-CQ90vU45.js";import{u as J}from"./useTheme-C7Gniin0.js";import{j as O}from"./jsx-runtime-BTJTZTIL.js";import{b as Q,a as U,g as w,r as X}from"./useSlot-CpCLTyuj.js";function C(n){var l;return parseInt(o.version,10)>=19?((l=n==null?void 0:n.props)==null?void 0:l.ref)||null:(n==null?void 0:n.ref)||null}function Y(n){return typeof n=="function"?n():n}const st=o.forwardRef(function(l,f){const{children:e,container:g,disablePortal:r=!1}=l,[s,p]=o.useState(null),h=S(o.isValidElement(e)?C(e):null,f);if(D(()=>{r||p(Y(g)||document.body)},[g,r]),D(()=>{if(s&&!r)return b(f,s),()=>{b(f,null)}},[f,s,r]),r){if(o.isValidElement(e)){const R={ref:h};return o.cloneElement(e,R)}return e}return s&&I.createPortal(e,s)});function j(n){return`scale(${n}, ${n**2})`}const Z={entering:{opacity:1,transform:j(1)},entered:{opacity:1,transform:"none"}},P=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),H=o.forwardRef(function(l,f){const{addEndListener:e,appear:g=!0,children:r,easing:s,in:p,onEnter:h,onEntered:R,onEntering:F,onExit:A,onExited:G,onExiting:L,style:T,timeout:u="auto",TransitionComponent:N=Q,...V}=l,$=U(),v=o.useRef(),d=J(),y=o.useRef(null),z=S(y,C(r),f),m=t=>c=>{if(t){const i=y.current;c===void 0?t(i):t(i,c)}},K=m(F),M=m((t,c)=>{X(t);const{duration:i,delay:x,easing:a}=w({style:T,timeout:u,easing:s},{mode:"enter"});let E;u==="auto"?(E=d.transitions.getAutoHeightDuration(t.clientHeight),v.current=E):E=i,t.style.transition=[d.transitions.create("opacity",{duration:E,delay:x}),d.transitions.create("transform",{duration:P?E:E*.666,delay:x,easing:a})].join(","),h&&h(t,c)}),W=m(R),_=m(L),k=m(t=>{const{duration:c,delay:i,easing:x}=w({style:T,timeout:u,easing:s},{mode:"exit"});let a;u==="auto"?(a=d.transitions.getAutoHeightDuration(t.clientHeight),v.current=a):a=c,t.style.transition=[d.transitions.create("opacity",{duration:a,delay:i}),d.transitions.create("transform",{duration:P?a:a*.666,delay:P?i:i||a*.333,easing:x})].join(","),t.style.opacity=0,t.style.transform=j(.75),A&&A(t)}),q=m(G),B=t=>{u==="auto"&&$.start(v.current||0,t),e&&e(y.current,t)};return O.jsx(N,{appear:g,in:p,nodeRef:y,onEnter:M,onEntered:W,onEntering:K,onExit:k,onExited:q,onExiting:_,addEndListener:B,timeout:u==="auto"?null:u,...V,children:(t,{ownerState:c,...i})=>o.cloneElement(r,{style:{opacity:0,transform:j(.75),visibility:t==="exited"&&!p?"hidden":void 0,...Z[t],...T,...r.props.style},ref:z,...i})})});H&&(H.muiSupportAuto=!0);export{H as G,st as P,C as g};
