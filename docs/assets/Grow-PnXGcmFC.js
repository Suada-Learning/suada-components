import{r as i}from"./index-P7RG-sTI.js";import{r as I}from"./index-qH2c_dVb.js";import{u as b,s as D}from"./resolveComponentProps-IGToM-EB.js";import{u as w}from"./useEnhancedEffect-BdJxjJVZ.js";import{u as J}from"./useTheme-CEHeA6GC.js";import{j as O}from"./jsx-runtime-BMn0QxmW.js";import{T as Q,g as H,r as U}from"./utils-BL9f0C3K.js";import{a as X}from"./useSlot-DryEmI1_.js";function C(n){var l;return parseInt(i.version,10)>=19?((l=n==null?void 0:n.props)==null?void 0:l.ref)||null:(n==null?void 0:n.ref)||null}function Y(n){return typeof n=="function"?n():n}const ut=i.forwardRef(function(l,f){const{children:r,container:E,disablePortal:e=!1}=l,[s,g]=i.useState(null),h=b(i.isValidElement(r)?C(r):null,f);if(w(()=>{e||g(Y(E)||document.body)},[E,e]),w(()=>{if(s&&!e)return D(f,s),()=>{D(f,null)}},[f,s,e]),e){if(i.isValidElement(r)){const T={ref:h};return i.cloneElement(r,T)}return r}return s&&I.createPortal(r,s)});function j(n){return`scale(${n}, ${n**2})`}const Z={entering:{opacity:1,transform:j(1)},entered:{opacity:1,transform:"none"}},P=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),S=i.forwardRef(function(l,f){const{addEndListener:r,appear:E=!0,children:e,easing:s,in:g,onEnter:h,onEntered:T,onEntering:F,onExit:A,onExited:G,onExiting:L,style:R,timeout:u="auto",TransitionComponent:N=Q,...V}=l,$=X(),v=i.useRef(),d=J(),y=i.useRef(null),z=b(y,C(e),f),m=t=>c=>{if(t){const o=y.current;c===void 0?t(o):t(o,c)}},K=m(F),M=m((t,c)=>{U(t);const{duration:o,delay:x,easing:a}=H({style:R,timeout:u,easing:s},{mode:"enter"});let p;u==="auto"?(p=d.transitions.getAutoHeightDuration(t.clientHeight),v.current=p):p=o,t.style.transition=[d.transitions.create("opacity",{duration:p,delay:x}),d.transitions.create("transform",{duration:P?p:p*.666,delay:x,easing:a})].join(","),h&&h(t,c)}),W=m(T),_=m(L),k=m(t=>{const{duration:c,delay:o,easing:x}=H({style:R,timeout:u,easing:s},{mode:"exit"});let a;u==="auto"?(a=d.transitions.getAutoHeightDuration(t.clientHeight),v.current=a):a=c,t.style.transition=[d.transitions.create("opacity",{duration:a,delay:o}),d.transitions.create("transform",{duration:P?a:a*.666,delay:P?o:o||a*.333,easing:x})].join(","),t.style.opacity=0,t.style.transform=j(.75),A&&A(t)}),q=m(G),B=t=>{u==="auto"&&$.start(v.current||0,t),r&&r(y.current,t)};return O.jsx(N,{appear:E,in:g,nodeRef:y,onEnter:M,onEntered:W,onEntering:K,onExit:k,onExited:q,onExiting:_,addEndListener:B,timeout:u==="auto"?null:u,...V,children:(t,{ownerState:c,...o})=>i.cloneElement(e,{style:{opacity:0,transform:j(.75),visibility:t==="exited"&&!g?"hidden":void 0,...Z[t],...R,...e.props.style},ref:z,...o})})});S&&(S.muiSupportAuto=!0);export{S as G,ut as P,C as g};
