import{r as e}from"./index-P7RG-sTI.js";import{r as J}from"./index-qH2c_dVb.js";import{j as A}from"./jsx-runtime-BMn0QxmW.js";import{u as H,c as L,s as b,a as O}from"./useTimeout-C7Z447pM.js";import{_ as Q,a as R}from"./objectWithoutPropertiesLoose-Cv5OCJ0e.js";import{u as U}from"./useTheme-C9h2Par8.js";import{T as X,g as C,r as Y}from"./utils-DKRoJviL.js";function _(n){if(parseInt(e.version,10)>=19){var l;return(n==null||(l=n.props)==null?void 0:l.ref)||null}return(n==null?void 0:n.ref)||null}function Z(n){return typeof n=="function"?n():n}const ct=e.forwardRef(function(l,d){const{children:i,container:g,disablePortal:o=!1}=l,[r,p]=e.useState(null),h=H(e.isValidElement(i)?_(i):null,d);if(L(()=>{o||p(Z(g)||document.body)},[g,o]),L(()=>{if(r&&!o)return b(d,r),()=>{b(d,null)}},[d,r,o]),o){if(e.isValidElement(i)){const v={ref:h};return e.cloneElement(i,v)}return A.jsx(e.Fragment,{children:i})}return A.jsx(e.Fragment,{children:r&&J.createPortal(i,r)})}),tt=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function D(n){return`scale(${n}, ${n**2})`}const nt={entering:{opacity:1,transform:D(1)},entered:{opacity:1,transform:"none"}},j=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),et=e.forwardRef(function(l,d){const{addEndListener:i,appear:g=!0,children:o,easing:r,in:p,onEnter:h,onEntered:v,onEntering:w,onExit:F,onExited:G,onExiting:S,style:T,timeout:c="auto",TransitionComponent:N=X}=l,V=Q(l,tt),W=O(),P=e.useRef(),f=U(),x=e.useRef(null),z=H(x,_(o),d),m=t=>a=>{if(t){const u=x.current;a===void 0?t(u):t(u,a)}},K=m(w),M=m((t,a)=>{Y(t);const{duration:u,delay:y,easing:s}=C({style:T,timeout:c,easing:r},{mode:"enter"});let E;c==="auto"?(E=f.transitions.getAutoHeightDuration(t.clientHeight),P.current=E):E=u,t.style.transition=[f.transitions.create("opacity",{duration:E,delay:y}),f.transitions.create("transform",{duration:j?E:E*.666,delay:y,easing:s})].join(","),h&&h(t,a)}),$=m(v),k=m(S),q=m(t=>{const{duration:a,delay:u,easing:y}=C({style:T,timeout:c,easing:r},{mode:"exit"});let s;c==="auto"?(s=f.transitions.getAutoHeightDuration(t.clientHeight),P.current=s):s=a,t.style.transition=[f.transitions.create("opacity",{duration:s,delay:u}),f.transitions.create("transform",{duration:j?s:s*.666,delay:j?u:u||s*.333,easing:y})].join(","),t.style.opacity=0,t.style.transform=D(.75),F&&F(t)}),B=m(G),I=t=>{c==="auto"&&W.start(P.current||0,t),i&&i(x.current,t)};return A.jsx(N,R({appear:g,in:p,nodeRef:x,onEnter:M,onEntered:$,onEntering:K,onExit:q,onExited:B,onExiting:k,addEndListener:I,timeout:c==="auto"?null:c},V,{children:(t,a)=>e.cloneElement(o,R({style:R({opacity:0,transform:D(.75),visibility:t==="exited"&&!p?"hidden":void 0},nt[t],T,o.props.style),ref:z},a))}))});et.muiSupportAuto=!0;export{et as G,ct as P,_ as g};
