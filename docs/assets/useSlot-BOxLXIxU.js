var U=Object.defineProperty;var F=(n,i,r)=>i in n?U(n,i,{enumerable:!0,configurable:!0,writable:!0,value:r}):n[i]=r;var b=(n,i,r)=>F(n,typeof i!="symbol"?i+"":i,r);import{r as R,R as m}from"./index-CAe6R3bO.js";import{e as G}from"./DefaultPropsProvider-BjW0N_ST.js";import{T as X}from"./DefaultPropsProvider-CE9yCcll.js";import{d as j,r as W,m as A,u as H,a as z}from"./resolveComponentProps-SIU9M0H_.js";import{_ as Y,a as Z}from"./setPrototypeOf-C3V6guyq.js";import{G as N}from"./index-CqMW6mv0.js";function it(){const n=j(G);return n[X]||n}const D={};function $(n,i){const r=R.useRef(D);return r.current===D&&(r.current=n(i)),r}const q=[];function B(n){R.useEffect(n,q)}class y{constructor(){b(this,"currentId",null);b(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});b(this,"disposeEffect",()=>this.clear)}static create(){return new y}start(i,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},i)}}function st(){const n=$(y.create).current;return B(n.disposeEffect),n}function J(n,i){n.prototype=Object.create(i.prototype),n.prototype.constructor=n,Y(n,i)}const I={disabled:!1},P=m.createContext(null);var K=function(i){return i.scrollTop},x="unmounted",f="exited",d="entering",E="entered",g="exiting",c=function(n){J(i,n);function i(s,e){var t;t=n.call(this,s,e)||this;var o=e,a=o&&!o.isMounting?s.enter:s.appear,u;return t.appearStatus=null,s.in?a?(u=f,t.appearStatus=d):u=E:s.unmountOnExit||s.mountOnEnter?u=x:u=f,t.state={status:u},t.nextCallback=null,t}i.getDerivedStateFromProps=function(e,t){var o=e.in;return o&&t.status===x?{status:f}:null};var r=i.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var o=this.state.status;this.props.in?o!==d&&o!==E&&(t=d):(o===d||o===E)&&(t=g)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e=this.props.timeout,t,o,a;return t=o=a=e,e!=null&&typeof e!="number"&&(t=e.exit,o=e.enter,a=e.appear!==void 0?e.appear:o),{exit:t,enter:o,appear:a}},r.updateStatus=function(e,t){if(e===void 0&&(e=!1),t!==null)if(this.cancelNextCallback(),t===d){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:N.findDOMNode(this);o&&K(o)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===f&&this.setState({status:x})},r.performEnter=function(e){var t=this,o=this.props.enter,a=this.context?this.context.isMounting:e,u=this.props.nodeRef?[a]:[N.findDOMNode(this),a],p=u[0],l=u[1],v=this.getTimeouts(),C=a?v.appear:v.enter;if(!e&&!o||I.disabled){this.safeSetState({status:E},function(){t.props.onEntered(p)});return}this.props.onEnter(p,l),this.safeSetState({status:d},function(){t.props.onEntering(p,l),t.onTransitionEnd(C,function(){t.safeSetState({status:E},function(){t.props.onEntered(p,l)})})})},r.performExit=function(){var e=this,t=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:N.findDOMNode(this);if(!t||I.disabled){this.safeSetState({status:f},function(){e.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:g},function(){e.props.onExiting(a),e.onTransitionEnd(o.exit,function(){e.safeSetState({status:f},function(){e.props.onExited(a)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,t.nextCallback=null,e(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var o=this.props.nodeRef?this.props.nodeRef.current:N.findDOMNode(this),a=e==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],p=u[0],l=u[1];this.props.addEndListener(p,l)}e!=null&&setTimeout(this.nextCallback,e)},r.render=function(){var e=this.state.status;if(e===x)return null;var t=this.props,o=t.children;t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef;var a=Z(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return m.createElement(P.Provider,{value:null},typeof o=="function"?o(e,a):m.cloneElement(m.Children.only(o),a))},i}(m.Component);c.contextType=P;c.propTypes={};function h(){}c.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:h,onEntering:h,onEntered:h,onExit:h,onExiting:h,onExited:h};c.UNMOUNTED=x;c.EXITED=f;c.ENTERING=d;c.ENTERED=E;c.EXITING=g;const at=n=>n.scrollTop;function ut(n,i){const{timeout:r,easing:s,style:e={}}=n;return{duration:e.transitionDuration??(typeof r=="number"?r:r[i.mode]||0),easing:e.transitionTimingFunction??(typeof s=="object"?s[i.mode]:s),delay:e.transitionDelay}}function pt(n,i){const{className:r,elementType:s,ownerState:e,externalForwardedProps:t,internalForwardedProps:o,shouldForwardComponentProp:a=!1,...u}=i,{component:p,slots:l={[n]:void 0},slotProps:v={[n]:void 0},...C}=t,O=l[n]||s,T=W(v[n],e),{props:{component:k,...M},internalRef:L}=A({className:r,...u,externalForwardedProps:n==="root"?C:void 0,externalSlotProps:T}),w=H(L,T==null?void 0:T.ref,i.ref),S=n==="root"?k||p:k,_=z(O,{...n==="root"&&!p&&!l[n]&&o,...n!=="root"&&!l[n]&&o,...M,...S&&!a&&{as:S},...S&&a&&{component:S},ref:w},e);return[O,_]}export{c as T,J as _,pt as a,st as b,y as c,P as d,$ as e,K as f,ut as g,at as r,it as u};
