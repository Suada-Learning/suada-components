'use strict';

var jsxRuntime = require('./jsx-runtime-DoH8iSlf.js');
var _commonjsHelpers = require('./_commonjsHelpers-CxXfaUfr.js');
var interopRequireDefault = require('./interopRequireDefault-BBOtkihg.js');
var createSvgIcon = require('./createSvgIcon-DLn4QZlg.js');
var components_FileUploader_styledComponents = require('./components/FileUploader/styled-components.cjs.js');
var components_FileUploader_uploader_interface = require('./components/FileUploader/uploader.interface.cjs.js');
var Input = require('./Input-CaX28Qcb.js');
var TranslationProvider = require('./TranslationProvider-63Q0Li_V.js');
var CircularProgress = require('./CircularProgress-c3gMOn08.js');

var Cancel = {};

var hasRequiredCancel;

function requireCancel () {
	if (hasRequiredCancel) return Cancel;
	hasRequiredCancel = 1;

	var _interopRequireDefault = interopRequireDefault.requireInteropRequireDefault();
	Object.defineProperty(Cancel, "__esModule", {
	  value: true
	});
	Cancel.default = void 0;
	var _createSvgIcon = _interopRequireDefault(/*@__PURE__*/ createSvgIcon.requireCreateSvgIcon());
	var _jsxRuntime = jsxRuntime.requireJsxRuntime();
	Cancel.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
	  d: "M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"
	}), 'Cancel');
	return Cancel;
}

var CancelExports = /*@__PURE__*/ requireCancel();
var CancelIcon = /*@__PURE__*/_commonjsHelpers.getDefaultExportFromCjs(CancelExports);

var OndemandVideo = {};

var hasRequiredOndemandVideo;

function requireOndemandVideo () {
	if (hasRequiredOndemandVideo) return OndemandVideo;
	hasRequiredOndemandVideo = 1;

	var _interopRequireDefault = interopRequireDefault.requireInteropRequireDefault();
	Object.defineProperty(OndemandVideo, "__esModule", {
	  value: true
	});
	OndemandVideo.default = void 0;
	var _createSvgIcon = _interopRequireDefault(/*@__PURE__*/ createSvgIcon.requireCreateSvgIcon());
	var _jsxRuntime = jsxRuntime.requireJsxRuntime();
	OndemandVideo.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
	  d: "M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2m0 14H3V5h18zm-5-6-7 4V7z"
	}), 'OndemandVideo');
	return OndemandVideo;
}

var OndemandVideoExports = /*@__PURE__*/ requireOndemandVideo();
var OndemandVideoIcon = /*@__PURE__*/_commonjsHelpers.getDefaultExportFromCjs(OndemandVideoExports);

var InsertDriveFile = {};

var hasRequiredInsertDriveFile;

function requireInsertDriveFile () {
	if (hasRequiredInsertDriveFile) return InsertDriveFile;
	hasRequiredInsertDriveFile = 1;

	var _interopRequireDefault = interopRequireDefault.requireInteropRequireDefault();
	Object.defineProperty(InsertDriveFile, "__esModule", {
	  value: true
	});
	InsertDriveFile.default = void 0;
	var _createSvgIcon = _interopRequireDefault(/*@__PURE__*/ createSvgIcon.requireCreateSvgIcon());
	var _jsxRuntime = jsxRuntime.requireJsxRuntime();
	InsertDriveFile.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
	  d: "M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm7 7V3.5L18.5 9z"
	}), 'InsertDriveFile');
	return InsertDriveFile;
}

var InsertDriveFileExports = /*@__PURE__*/ requireInsertDriveFile();
var InsertDriveFileIcon = /*@__PURE__*/_commonjsHelpers.getDefaultExportFromCjs(InsertDriveFileExports);

var Headset = {};

var hasRequiredHeadset;

function requireHeadset () {
	if (hasRequiredHeadset) return Headset;
	hasRequiredHeadset = 1;

	var _interopRequireDefault = interopRequireDefault.requireInteropRequireDefault();
	Object.defineProperty(Headset, "__esModule", {
	  value: true
	});
	Headset.default = void 0;
	var _createSvgIcon = _interopRequireDefault(/*@__PURE__*/ createSvgIcon.requireCreateSvgIcon());
	var _jsxRuntime = jsxRuntime.requireJsxRuntime();
	Headset.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
	  d: "M12 1c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h3c1.66 0 3-1.34 3-3v-7c0-4.97-4.03-9-9-9"
	}), 'Headset');
	return Headset;
}

var HeadsetExports = /*@__PURE__*/ requireHeadset();
var HeadsetIcon = /*@__PURE__*/_commonjsHelpers.getDefaultExportFromCjs(HeadsetExports);

var FileUploadOutlined = {};

var hasRequiredFileUploadOutlined;

function requireFileUploadOutlined () {
	if (hasRequiredFileUploadOutlined) return FileUploadOutlined;
	hasRequiredFileUploadOutlined = 1;

	var _interopRequireDefault = interopRequireDefault.requireInteropRequireDefault();
	Object.defineProperty(FileUploadOutlined, "__esModule", {
	  value: true
	});
	FileUploadOutlined.default = void 0;
	var _createSvgIcon = _interopRequireDefault(/*@__PURE__*/ createSvgIcon.requireCreateSvgIcon());
	var _jsxRuntime = jsxRuntime.requireJsxRuntime();
	FileUploadOutlined.default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)("path", {
	  d: "M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3zM7 9l1.41 1.41L11 7.83V16h2V7.83l2.59 2.58L17 9l-5-5z"
	}), 'FileUploadOutlined');
	return FileUploadOutlined;
}

var FileUploadOutlinedExports = /*@__PURE__*/ requireFileUploadOutlined();
var FileUploadOutlinedIcon = /*@__PURE__*/_commonjsHelpers.getDefaultExportFromCjs(FileUploadOutlinedExports);

var Loading = function Loading(_a) {
  var type = _a.type,
    loading = _a.loading;
  if ([components_FileUploader_uploader_interface.FileTypes.VIDEO, components_FileUploader_uploader_interface.FileTypes.AUDIO].includes(type)) {
    return jsxRuntime.jsxRuntimeExports.jsxs(components_FileUploader_styledComponents.LoadingProgressContainer, {
      children: [Math.round(loading), " %"]
    });
  }
  return jsxRuntime.jsxRuntimeExports.jsx(components_FileUploader_styledComponents.LoadingProgressContainer, {
    children: jsxRuntime.jsxRuntimeExports.jsx(CircularProgress.CircularProgress, {
      style: components_FileUploader_styledComponents.CircularProgressStyles
    })
  });
};
var handleFileClick = function handleFileClick(link) {
  if (link) {
    window.open(link, '_blank');
  }
};
var Uploader = function Uploader(_a) {
  var type = _a.type,
    uploadedFile = _a.uploadedFile,
    label = _a.label,
    inputValue = _a.inputValue,
    onInputChange = _a.onInputChange,
    onFileChange = _a.onFileChange,
    disabled = _a.disabled,
    loading = _a.loading,
    deleteFile = _a.deleteFile,
    id = _a.id,
    accept = _a.accept,
    name = _a.name,
    multiple = _a.multiple,
    placeHolder = _a.placeHolder,
    _b = _a.showFullPreview,
    showFullPreview = _b === void 0 ? false : _b,
    inputClassName = _a.inputClassName,
    touched = _a.touched,
    error = _a.error,
    nameClassName = _a.nameClassName,
    _c = _a.required,
    required = _c === void 0 ? false : _c;
  var t = TranslationProvider.useTranslation().t;
  var InlineFilePreview = function InlineFilePreview() {
    var file = uploadedFile;
    switch (type) {
      case components_FileUploader_uploader_interface.FileTypes.IMAGE:
        return jsxRuntime.jsxRuntimeExports.jsx(components_FileUploader_styledComponents.ImagePlaceholder, {
          onClick: function onClick() {
            handleFileClick(file.link);
          },
          children: jsxRuntime.jsxRuntimeExports.jsx("img", {
            src: file === null || file === void 0 ? void 0 : file.link,
            alt: ''
          })
        });
      case components_FileUploader_uploader_interface.FileTypes.VIDEO:
        return jsxRuntime.jsxRuntimeExports.jsx(components_FileUploader_styledComponents.VideoPlaceholder, {
          onClick: function onClick() {
            var _a, _b;
            handleFileClick((_b = (_a = file.links) === null || _a === void 0 ? void 0 : _a[4]) === null || _b === void 0 ? void 0 : _b.url);
          },
          children: jsxRuntime.jsxRuntimeExports.jsx(OndemandVideoIcon, {
            color: 'secondary'
          })
        });
      case components_FileUploader_uploader_interface.FileTypes.AUDIO:
        return jsxRuntime.jsxRuntimeExports.jsx(components_FileUploader_styledComponents.DefaultPlaceholder, {
          onClick: function onClick() {
            handleFileClick(file.link);
          },
          children: jsxRuntime.jsxRuntimeExports.jsx(HeadsetIcon, {
            color: 'secondary'
          })
        });
      default:
        return jsxRuntime.jsxRuntimeExports.jsx(components_FileUploader_styledComponents.DefaultPlaceholder, {
          onClick: function onClick() {
            handleFileClick(file.link);
          },
          children: jsxRuntime.jsxRuntimeExports.jsx(InsertDriveFileIcon, {
            color: 'secondary'
          })
        });
    }
  };
  return jsxRuntime.jsxRuntimeExports.jsxs(components_FileUploader_styledComponents.Container, {
    children: [label && jsxRuntime.jsxRuntimeExports.jsx(components_FileUploader_styledComponents.Title, {
      "$required": required,
      children: label
    }), jsxRuntime.jsxRuntimeExports.jsxs(components_FileUploader_styledComponents.FlexContainer, {
      children: [jsxRuntime.jsxRuntimeExports.jsx(components_FileUploader_styledComponents.ItemContainer, {
        width: '75%',
        children: jsxRuntime.jsxRuntimeExports.jsx(Input.TextInput, {
          label: '',
          placeholder: placeHolder ? placeHolder : 'Supported formats are PNG, JPG, JPEG',
          name: 'file',
          size: 'small',
          type: 'text',
          fullWidth: true,
          touched: touched,
          error: !!error,
          value: inputValue,
          onChange: onInputChange,
          disabled: disabled
        })
      }), showFullPreview ? jsxRuntime.jsxRuntimeExports.jsxs(jsxRuntime.jsxRuntimeExports.Fragment, {
        children: [jsxRuntime.jsxRuntimeExports.jsx(components_FileUploader_styledComponents.ItemContainer, {
          width: '23%',
          children: loading ? jsxRuntime.jsxRuntimeExports.jsx(Loading, {
            type: type,
            loading: loading
          }) : jsxRuntime.jsxRuntimeExports.jsxs(components_FileUploader_styledComponents.InputFileContainer, {
            children: [jsxRuntime.jsxRuntimeExports.jsx(components_FileUploader_styledComponents.UploadInput, {
              type: 'file',
              className: nameClassName,
              name: name,
              id: id,
              onChange: onFileChange,
              multiple: multiple,
              accept: accept
            }), jsxRuntime.jsxRuntimeExports.jsxs(components_FileUploader_styledComponents.InputLabel, {
              htmlFor: id,
              children: [jsxRuntime.jsxRuntimeExports.jsx(FileUploadOutlinedIcon, {}), t('general.upload') || 'Upload', ' ']
            })]
          })
        }), uploadedFile && type === components_FileUploader_uploader_interface.FileTypes.IMAGE && jsxRuntime.jsxRuntimeExports.jsx(components_FileUploader_styledComponents.ImagePlaceholder, {
          height: 160,
          children: uploadedFile.link && jsxRuntime.jsxRuntimeExports.jsx("img", {
            src: uploadedFile.link,
            alt: 'Input Image'
          })
        }), uploadedFile && jsxRuntime.jsxRuntimeExports.jsx(components_FileUploader_styledComponents.CancelButton, {
          onClick: deleteFile,
          right: '160px',
          top: '37px',
          children: jsxRuntime.jsxRuntimeExports.jsx(CancelIcon, {
            style: {
              color: 'rgba(179, 179, 184, 1)'
            }
          })
        })]
      }) : jsxRuntime.jsxRuntimeExports.jsxs(jsxRuntime.jsxRuntimeExports.Fragment, {
        children: [jsxRuntime.jsxRuntimeExports.jsxs(components_FileUploader_styledComponents.ItemContainer, {
          width: '23%',
          children: [!uploadedFile && !loading && jsxRuntime.jsxRuntimeExports.jsxs(components_FileUploader_styledComponents.InputFileContainer, {
            children: [jsxRuntime.jsxRuntimeExports.jsx(components_FileUploader_styledComponents.UploadInput, {
              type: 'file',
              className: inputClassName,
              name: name,
              id: id,
              onChange: onFileChange,
              multiple: multiple,
              accept: accept
            }), jsxRuntime.jsxRuntimeExports.jsxs(components_FileUploader_styledComponents.InputLabel, {
              htmlFor: id,
              children: [jsxRuntime.jsxRuntimeExports.jsx(FileUploadOutlinedIcon, {}), t('general.upload')]
            })]
          }), loading && jsxRuntime.jsxRuntimeExports.jsx(Loading, {
            type: type,
            loading: loading
          }), uploadedFile && InlineFilePreview()]
        }), uploadedFile && jsxRuntime.jsxRuntimeExports.jsx(components_FileUploader_styledComponents.CancelButton, {
          onClick: deleteFile,
          children: jsxRuntime.jsxRuntimeExports.jsx(CancelIcon, {
            style: {
              color: '#06C68F'
            }
          })
        }), ' ']
      })]
    }), error && touched && jsxRuntime.jsxRuntimeExports.jsx(components_FileUploader_styledComponents.ErrorText, {
      children: error
    })]
  });
};

exports.Uploader = Uploader;
//# sourceMappingURL=Uploader-CvMyD3oP.js.map
